"""Keyboard layout and related functions."""

QWERTY_LAYOUT = {
    # Top row
    "q": ["w", "a", "1", "2"],
    "w": ["q", "e", "a", "s", "2", "3"],
    "e": ["w", "r", "s", "d", "3", "4"],
    "r": ["e", "t", "d", "f", "4", "5"],
    "t": ["r", "y", "f", "g", "5", "6"],
    "y": ["t", "u", "g", "h", "6", "7"],
    "u": ["y", "i", "h", "j", "7", "8"],
    "i": ["u", "o", "j", "k", "8", "9"],
    "o": ["i", "p", "k", "l", "9", "0"],
    "p": ["o", "[", "l", ";", "0", "-"],
    # Middle row
    "a": ["q", "w", "s", "z"],
    "s": ["w", "e", "a", "d", "z", "x"],
    "d": ["e", "r", "s", "f", "x", "c"],
    "f": ["r", "t", "d", "g", "c", "v"],
    "g": ["t", "y", "f", "h", "v", "b"],
    "h": ["y", "u", "g", "j", "b", "n"],
    "j": ["u", "i", "h", "k", "n", "m"],
    "k": ["i", "o", "j", "l", "m", ","],
    "l": ["o", "p", "k", ";", ",", "."],
    # Bottom row
    "z": ["a", "s", "x"],
    "x": ["s", "d", "z", "c"],
    "c": ["d", "f", "x", "v"],
    "v": ["f", "g", "c", "b"],
    "b": ["g", "h", "v", "n"],
    "n": ["h", "j", "b", "m"],
    "m": ["j", "k", "n", ","],
    # Numbers and symbols
    "1": ["q", "2"],
    "2": ["1", "3", "q", "w"],
    "3": ["2", "4", "w", "e"],
    "4": ["3", "5", "e", "r"],
    "5": ["4", "6", "r", "t"],
    "6": ["5", "7", "t", "y"],
    "7": ["6", "8", "y", "u"],
    "8": ["7", "9", "u", "i"],
    "9": ["8", "0", "i", "o"],
    "0": ["9", "-", "o", "p"],
    ",": ["m", ".", "k", "l"],
    ".": [",", "/", "l"],
    "/": [".", "l"],
    ";": ["l", "p"],
    "'": [";", "["],
    "[": ["p", "]"],
    "]": ["[", "\\"],
    "\\": ["]"],
    "-": ["0", "="],
    "=": ["-"],
}


def get_adjacent_key(char):
    """Get a random adjacent key for the given character."""
    import random

    char = char.lower()
    if char in QWERTY_LAYOUT:
        return random.choice(QWERTY_LAYOUT[char])
    return char
